
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://jmabadlopez.github.io/acceso_datos/site/unidades/ud02/ficheros_directorios/">
      
      
        <link rel="prev" href="../introduccion/">
      
      
        <link rel="next" href="../ficheros_texto/">
      
      
      <link rel="icon" href="../../../assets/images/camp.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Ficheros y directorios - Acceso a Datos DAM</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2-gestion-de-ficheros-y-directorios" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../../.." title="Acceso a Datos DAM" class="md-header__button md-logo" aria-label="Acceso a Datos DAM" data-md-component="logo">
      
  <img src="../../../assets/images/camp.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Acceso a Datos DAM
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Ficheros y directorios
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="orange"  aria-label="Modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="orange" data-md-color-accent="orange"  aria-label="Modo claro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Modo claro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/jmabadlopez/acceso_datos" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    jmabadlopez/acceso_datos
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Pestañas" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Inicio

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../ud01/ud01/" class="md-tabs__link">
          
  
  
  Unidades

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Acceso a Datos DAM" class="md-nav__button md-logo" aria-label="Acceso a Datos DAM" data-md-component="logo">
      
  <img src="../../../assets/images/camp.png" alt="logo">

    </a>
    Acceso a Datos DAM
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jmabadlopez/acceso_datos" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    jmabadlopez/acceso_datos
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicio
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Unidades
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Unidades
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud01/ud01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UD1 - Programación en el entorno Kotlin.
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UD2 - Persistencia en ficheros
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            UD2 - Persistencia en ficheros
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduccion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Ficheros y directorios
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Ficheros y directorios
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#2-gestion-de-ficheros-y-directorios" class="md-nav__link">
    <span class="md-ellipsis">
      2. Gestión de ficheros y directorios
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Gestión de ficheros y directorios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metodos-principales-de-path" class="md-nav__link">
    <span class="md-ellipsis">
      Métodos principales de Path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-1" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodos-principales-de-files" class="md-nav__link">
    <span class="md-ellipsis">
      Métodos principales de Files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-2" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-3" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo 3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#practica-2-directorios-y-comprobaciones" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Práctica 2: Directorios y comprobaciones
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ficheros_texto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ficheros de texto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ficheros_intercambio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ficheros de intercambio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ficheros_binarios/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ficheros binarios
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ficheros_acceso_aleatorio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ficheros de acceso aleatorio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentacion_final/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Documentación final
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#2-gestion-de-ficheros-y-directorios" class="md-nav__link">
    <span class="md-ellipsis">
      2. Gestión de ficheros y directorios
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Gestión de ficheros y directorios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metodos-principales-de-path" class="md-nav__link">
    <span class="md-ellipsis">
      Métodos principales de Path
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-1" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodos-principales-de-files" class="md-nav__link">
    <span class="md-ellipsis">
      Métodos principales de Files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-2" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-3" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo 3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#practica-2-directorios-y-comprobaciones" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Práctica 2: Directorios y comprobaciones
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Ficheros y directorios</h1>

<h2 id="2-gestion-de-ficheros-y-directorios">2. Gestión de ficheros y directorios</h2>
<p>La gestión de ficheros y directorios se realiza a través de <strong>Path</strong> y <strong>Files</strong>.</p>
<ul>
<li><strong>Path</strong>: Representa una <strong>ruta</strong> en el sistema de ficheros (ej. <code>/home/usuario/foto.png</code> o <code>C:\usuarios\docs\informe.txt</code>). Un objeto Path es una dirección y no significa que el fichero o directorio exista.</li>
</ul>
<h3 id="metodos-principales-de-path">Métodos principales de Path</h3>
<table>
<thead>
<tr>
<th style="text-align: left;">Método</th>
<th style="text-align: left;">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>Path.of(String)</code></td>
<td style="text-align: left;">Crea un objeto <code>Path</code> a partir de un String de ruta (Java 11+). Por debajo llama a <code>Paths.get()</code> que es el método original de la clase <code>Paths</code> (Java 7+).</td>
</tr>
<tr>
<td style="text-align: left;"><code>toString()</code></td>
<td style="text-align: left;">Devuelve la ruta como un <code>String</code> (se llama por defecto desde <code>println</code>).</td>
</tr>
<tr>
<td style="text-align: left;"><code>toAbsolutePath()</code></td>
<td style="text-align: left;">Devuelve la ruta absoluta del Path.</td>
</tr>
<tr>
<td style="text-align: left;"><code>fileName()</code></td>
<td style="text-align: left;">Devuelve el nombre del fichero o directorio final de la ruta.</td>
</tr>
</tbody>
</table>
<h3 id="ejemplo-1">Ejemplo 1</h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">import</span><span class="w"> </span><span class="nn">java.nio.file.Path</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="c1">// Path relativo al directorio del proyecto</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">rutaRelativa</span><span class="p">:</span><span class="w"> </span><span class="n">Path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Path</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;documentos&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ejemplo.txt&quot;</span><span class="p">)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">    </span><span class="c1">// Path absoluto en Windows</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">rutaAbsolutaWin</span><span class="p">:</span><span class="w"> </span><span class="n">Path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Path</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;C:&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Users&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Pol&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Documentos&quot;</span><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">    </span><span class="c1">// Path absoluto en Linux/macOS</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">rutaAbsolutaNix</span><span class="p">:</span><span class="w"> </span><span class="n">Path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Path</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;/home/pol/documentos&quot;</span><span class="p">)</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">    </span><span class="n">println</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Ruta relativa: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rutaRelativa</span><span class="p">)</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">    </span><span class="n">println</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Ruta absoluta: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rutaRelativa</span><span class="p">.</span><span class="na">toAbsolutePath</span><span class="p">())</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">    </span><span class="n">println</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Ruta absoluta: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rutaAbsolutaWin</span><span class="p">)</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">    </span><span class="n">println</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Ruta absoluta: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rutaAbsolutaNix</span><span class="p">)</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="p">}</span>
</code></pre></div>
🔍 <strong>Ejecuta el ejemplo anterior y comprueba que la salida es la siguiente:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>Ruta relativa: documentos\ejemplo.txt
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>Ruta absoluta: F:\kot\1-ficheros\documentos\ejemplo.txt
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>Ruta absoluta: C:\Users\Pol\Documentos
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>Ruta absoluta: \home\pol\documentos
</code></pre></div></p>
<ul>
<li><strong>Files</strong>: Es una clase de utilidad con las acciones (borrar, copiar, mover, leer, etc) que podemos realizar sobre las rutas (<code>Path</code>).</li>
</ul>
<h3 id="metodos-principales-de-files">Métodos principales de Files</h3>
<table>
<thead>
<tr>
<th style="text-align: left;">Método</th>
<th style="text-align: left;">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>exists()</code>, <code>isDirectory()</code>, <code>isRegularFile()</code>, <code>isReadable()</code></td>
<td style="text-align: left;">Verificar de existencia y accesibilidad.</td>
</tr>
<tr>
<td style="text-align: left;"><code>list()</code>, <code>walk()</code></td>
<td style="text-align: left;">Listar contenido de un directorio.</td>
</tr>
<tr>
<td style="text-align: left;"><code>readAttributes()</code></td>
<td style="text-align: left;">Obtener atributos (tamaño, fecha, etc.).</td>
</tr>
<tr>
<td style="text-align: left;"><code>createDirectory()</code></td>
<td style="text-align: left;">Crear un directorio: Solo crea el directorio y espera que todo el "camino" hasta él ya exista.</td>
</tr>
<tr>
<td style="text-align: left;"><code>createDirectories</code></td>
<td style="text-align: left;">Crea un directorio y también los directorios padre si no existen. Es la forma más segura.</td>
</tr>
<tr>
<td style="text-align: left;"><code>createFile()</code></td>
<td style="text-align: left;">Crear un fichero.</td>
</tr>
<tr>
<td style="text-align: left;"><code>delete()</code></td>
<td style="text-align: left;">Borrar un fichero o directorio (lanza una excepción si el borrado falla). Lanza la excepción <code>NoSuchFileException</code> si el fichero o directorio no existe. Es más seguro <code>deleteIfExists()</code>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>move(origen, destino)</code></td>
<td style="text-align: left;">Mover o renombrar un fichero o directorio.</td>
</tr>
<tr>
<td style="text-align: left;"><code>copy(origen, destino)</code></td>
<td style="text-align: left;">Copiar un fichero o directorio. Si el destino ya existe se puede sobreescribir utilizando <code>copy(Path, Path, REPLACE_EXISTING)</code>. Si se copia un directorio no se copiará su contenido, el nuevo directorio estará vacío.</td>
</tr>
</tbody>
</table>
<h3 id="ejemplo-2">Ejemplo 2</h3>
<p>El siguiente ejemplo es un organizador de ficheros. Imagina una carpeta de "multimedia" donde todo está desordenado. El programa organizará los ficheros en subcarpetas según su extensión (.pdf, .jpg, .mp3, etc).</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">import</span><span class="w"> </span><span class="nn">java.nio.file.Files</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="k">import</span><span class="w"> </span><span class="nn">java.nio.file.Path</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="k">import</span><span class="w"> </span><span class="nn">java.nio.file.StandardCopyOption</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="k">import</span><span class="w"> </span><span class="nn">kotlin.io.path.extension</span><span class="w"> </span><span class="c1">// Extensión de Kotlin para obtener la extensión</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">    </span><span class="c1">// 1. Ruta de la carpeta a organizar</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">carpeta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Path</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;multimedia&quot;</span><span class="p">)</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">    </span><span class="n">println</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;--- Iniciando la organización de la carpeta: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">carpeta</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;---&quot;</span><span class="p">)</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">        </span><span class="c1">// 2. Recorrer la carpeta desordenada y utilizar .use para asegurar que los recursos del sistema se cierren correctamente</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">        </span><span class="n">Files</span><span class="p">.</span><span class="na">list</span><span class="p">(</span><span class="n">carpeta</span><span class="p">).</span><span class="na">use</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">streamDePaths</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">            </span><span class="n">streamDePaths</span><span class="p">.</span><span class="na">forEach</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">pathFichero</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">                </span><span class="c1">// 3. Solo interesan los ficheros, ignorar subcarpetas</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Files</span><span class="p">.</span><span class="na">isRegularFile</span><span class="p">(</span><span class="n">pathFichero</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="w">                    </span><span class="c1">// 4. Obteners la extensión del fichero (ej: &quot;pdf&quot;, &quot;jpg&quot;)</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="w">                    </span><span class="kd">val</span><span class="w"> </span><span class="nv">extension</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pathFichero</span><span class="p">.</span><span class="na">extension</span><span class="p">.</span><span class="na">lowercase</span><span class="p">()</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">extension</span><span class="p">.</span><span class="na">isBlank</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="w">                        </span><span class="n">println</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;-&gt; Ignorando: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">pathFichero</span><span class="p">.</span><span class="na">fileName</span><span class="p">)</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="w">                        </span><span class="k">return</span><span class="nd">@forEach</span><span class="w"> </span><span class="c1">// Salta a la siguiente iteración del bucle</span>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="w">                    </span><span class="p">}</span>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="w">                    </span><span class="c1">// 5. Crear la ruta del directorio de destino</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="w">                    </span><span class="kd">val</span><span class="w"> </span><span class="nv">carpetaDestino</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">carpeta</span><span class="p">.</span><span class="na">resolve</span><span class="p">(</span><span class="n">extension</span><span class="p">)</span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="w">                    </span><span class="c1">// 6. Crear el directorio de destino si no existe</span>
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Files</span><span class="p">.</span><span class="na">notExists</span><span class="p">(</span><span class="n">carpetaDestino</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="w">                        </span><span class="n">println</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;-&gt; Creando nueva carpeta &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">extension</span><span class="p">)</span>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="w">                        </span><span class="n">Files</span><span class="p">.</span><span class="na">createDirectories</span><span class="p">(</span><span class="n">carpetaDestino</span><span class="p">)</span>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="w">                    </span><span class="p">}</span>
<a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="w">                    </span><span class="c1">// 7. Mover el fichero a su nueva carpeta</span>
<a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a><span class="w">                    </span><span class="kd">val</span><span class="w"> </span><span class="nv">pathDestino</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">carpetaDestino</span><span class="p">.</span><span class="na">resolve</span><span class="p">(</span><span class="n">pathFichero</span><span class="p">.</span><span class="na">fileName</span><span class="p">)</span>
<a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a><span class="w">                    </span><span class="n">Files</span><span class="p">.</span><span class="na">move</span><span class="p">(</span><span class="n">pathFichero</span><span class="p">,</span><span class="w"> </span><span class="n">pathDestino</span><span class="p">,</span><span class="w"> </span><span class="n">StandardCopyOption</span><span class="p">.</span><span class="na">REPLACE_EXISTING</span><span class="p">)</span>
<a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a><span class="w">                    </span><span class="n">println</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;-&gt; Moviendo &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">pathFichero</span><span class="p">.</span><span class="na">fileName</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; a &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">extension</span><span class="p">)</span>
<a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a><span class="w">        </span><span class="n">println</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;\n--- ¡Organización completada con éxito! ---&quot;</span><span class="p">)</span>
<a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">:</span><span class="w"> </span><span class="n">Exception</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a><span class="w">        </span><span class="n">println</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;\n--- Ocurrió un error durante la organización ---&quot;</span><span class="p">)</span>
<a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a><span class="w">        </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">()</span>
<a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a><span class="p">}</span>
</code></pre></div>
🔍 <strong>Crea una carpeta, dentro de tu proyecto llamada <code>multimedia</code> y guarda diferentes archivos (<em>pdf, jpg, txt, etc.</em>). Ejecuta el ejemplo anterior y comprueba que la salida es parecida a la siguiente.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>--- Iniciando la organización de la carpeta: multimedia---
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>-&gt; Creando nueva carpeta jpg
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>-&gt; Moviendo 20191106_071048.jpg a jpg
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>-&gt; Moviendo 20191101_071830.jpg a jpg
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>-&gt; Creando nueva carpeta txt
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>-&gt; Moviendo libros.txt a txt
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>-&gt; Moviendo peliculas.txt a txt
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>-&gt; Creando nueva carpeta pdf
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>-&gt; Moviendo lorem-ipsum-2.pdf a pdf
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>-&gt; Moviendo lorem-ipsum-1.pdf a pdf
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>-&gt; Creando nueva carpeta mp3
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>-&gt; Moviendo dark-cinematic-atmosphere.mp3 a mp3
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>-&gt; Moviendo pad-harmonious-and-soothing-voice-like-background.mp3 a mp3
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>--- ¡Organización completada con éxito! ---
</code></pre></div>
<p>En el ejemplo anterior hemos recorrido un directorio para organizar los ficheros que contenía. Recorrer un directorio para "mirar" su contenido es útil en muchas situaciones y hay varias formas de hacerlo. A continuación veremos algunas:</p>
<ul>
<li><code>Files.list(path)</code>: Es la utilizada en el ejemplo anterior. Lista únicamente el contenido de un directorio sin acceder a las subcarpetas. Será útil cuando solamente sea necesario acceder al contenido directo de una carpeta, por ejemplo para organizar ficheros en un directorio, mostrar el contenido de la carpeta actual o buscar un fichero específico solo en este nivel.<ul>
<li><strong>Ventajas:</strong><ul>
<li>Rápido y eficiente al no ser recursivo.</li>
<li>Ofrece un control preciso, operando solo en el primer nivel del directorio.</li>
<li>Devuelve un <code>Stream</code> de Java que permite usar operadores funcionales (<code>filter</code>, <code>map</code>, etc.) de forma segura con <code>.use</code>.</li>
</ul>
</li>
<li><strong>Inconvenientes:</strong><ul>
<li>No explora subdirectorios.</li>
<li>Para recorrer un árbol completo, se necesita implementar lógica recursiva manualmente.</li>
</ul>
</li>
</ul>
</li>
<li><code>Files.walk(path)</code>: Recorre un directorio y todo su contenido recursivamente. Entra en cada subcarpeta, y en sus subcarpetas hasta el final. Será útil para operar sobre un directorio y todo lo que contiene, sin importar la profundidad, por ejemplo para buscar un fichero por nombre en cualquier subcarpeta, eliminar todos los ficheros temporales de un proyecto o contar todos los ficheros .kt de un repositorio.<ul>
<li><strong>Ventajas:</strong><ul>
<li>Recorre árboles de directorios completos (recursivo) de forma muy sencilla.</li>
<li>Extremadamente potente para búsquedas profundas o aplicar operaciones a todos los elementos anidados.</li>
<li>También devuelve un <code>Stream</code>, permitiendo un filtrado y procesamiento muy expresivo.</li>
</ul>
</li>
<li><strong>Inconvenientes:</strong><ul>
<li>Puede ser lento y consumir más memoria en directorios con miles de ficheros.</li>
<li>Es una herramienta excesiva ('overkill') para tareas que solo requieren acceder al nivel actual.</li>
</ul>
</li>
</ul>
</li>
<li><code>Files.newDirectoryStream(path)</code>: Es similar a <code>Files.list()</code>, listando solo el contenido inmediato. La diferencia es que no devuelve un <code>Stream</code> de Java 8 (que permite usar <code>.filter</code>, <code>.forEach</code>, etc.), sino un <code>DirectoryStream</code>, que es una versión más antigua que se usa con bucles for. Es menos común en código Kotlin moderno, pero es bueno reconocerlo para poder entender en proyectos antiguos (legacy). Para cualquier tarea nueva, <code>Files.list()</code> y <code>Files.walk()</code> son superiores en seguridad y expresividad.<ul>
<li><strong>Ventajas:</strong><ul>
<li>Utiliza un bucle <code>for-each</code> tradicional, que puede resultar familiar.</li>
</ul>
</li>
<li><strong>Inconvenientes:</strong><ul>
<li><strong>¡PELIGRO!</strong> Requiere cerrar el recurso manualmente (<code>.close()</code>). Si se olvida, provoca fugas de recursos (<code>resource leaks</code>).</li>
<li>Es menos expresivo que los Streams. No se pueden encadenar operadores funcionales fácilmente.</li>
<li>Considerado obsoleto en código Kotlin idiomático, que prefiere <code>Files.list().use{...}</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="ejemplo-3">Ejemplo 3</h3>
<p>Queremos crear un informe de toda la estructura de la carpeta resultante del ejemplo anterior. Por tanto necesitamos entrar en las nuevas carpetas (pdf, jpg, txt) y ver qué ficheros hay dentro de cada una. Para ello se utiliza <code>Files.walk()</code> que calcula la profundidad, recorre la jerarquía de carpetas y muestra cada elemento indicando si es un directorio o un fichero.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">import</span><span class="w"> </span><span class="nn">java.nio.file.Files</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="k">import</span><span class="w"> </span><span class="nn">java.nio.file.Path</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">carpetaPrincipal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Path</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;multimedia&quot;</span><span class="p">)</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span><span class="n">println</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;--- Mostrando la estructura final con Files.walk() ---&quot;</span><span class="p">)</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">        </span><span class="n">Files</span><span class="p">.</span><span class="na">walk</span><span class="p">(</span><span class="n">carpetaPrincipal</span><span class="p">).</span><span class="na">use</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">stream</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">            </span><span class="c1">// Ordenar el stream para una visualización más predecible</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">            </span><span class="n">stream</span><span class="p">.</span><span class="na">sorted</span><span class="p">().</span><span class="na">forEach</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">                </span><span class="c1">// Calcular profundidad para la indentación</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">                </span><span class="c1">// Restamos el número de componentes de la ruta base para que el directorio principal no tenga indentación</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">                </span><span class="kd">val</span><span class="w"> </span><span class="nv">profundidad</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">path</span><span class="p">.</span><span class="na">nameCount</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">carpetaPrincipal</span><span class="p">.</span><span class="na">nameCount</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">                </span><span class="kd">val</span><span class="w"> </span><span class="nv">indentacion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;\t&quot;</span><span class="p">.</span><span class="na">repeat</span><span class="p">(</span><span class="n">profundidad</span><span class="p">)</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">                </span><span class="c1">// Determinamos si es directorio o fichero para el prefijo</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">                </span><span class="kd">val</span><span class="w"> </span><span class="nv">prefijo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Files</span><span class="p">.</span><span class="na">isDirectory</span><span class="p">(</span><span class="n">path</span><span class="p">))</span><span class="w"> </span><span class="s">&quot;[DIR]&quot;</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s">&quot;[FILE]&quot;</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">                </span><span class="c1">// No imprimimos la propia carpeta raíz, solo su contenido</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">profundidad</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="w">                    </span><span class="n">println</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;</span><span class="si">$</span><span class="n">indentacion</span><span class="si">$</span><span class="n">prefijo</span><span class="s"> </span><span class="si">${</span><span class="n">path</span><span class="p">.</span><span class="na">fileName</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">:</span><span class="w"> </span><span class="n">Exception</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="w">        </span><span class="n">println</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;\n--- Ocurrió un error durante el recorrido ---&quot;</span><span class="p">)</span>
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="w">        </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">()</span>
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="p">}</span>
</code></pre></div>
🔍 <strong>Ejecuta el ejemplo anterior y comprueba que la salida es la siguiente:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>--- Mostrando la estructura final con Files.walk() ---
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    [DIR] jpg
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>        [FILE] 20191101_071830.jpg
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>        [FILE] 20191106_071048.jpg
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>    [DIR] mp3
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>        [FILE] dark-cinematic-atmosphere.mp3
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>        [FILE] pad-harmonious-and-soothing-voice-like-background.mp3
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>    [DIR] mp4
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>        [FILE] 283533_small.mp4
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>        [FILE] 293968_small.mp4
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>    [DIR] pdf
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>        [FILE] lorem-ipsum-1.pdf
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>        [FILE] lorem-ipsum-2.pdf
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>    [DIR] txt
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>        [FILE] libros.txt
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>        [FILE] peliculas.txt
</code></pre></div></p>
<hr />
<h3 id="practica-2-directorios-y-comprobaciones">🎯 Práctica 2: Directorios y comprobaciones</h3>
<p>Prepara <strong>la estructura de tu proyecto</strong>. Crea la ruta <code>proyecto/datos</code>. Basándote en los ejemplos anteriores, <strong>desarrolla un programa</strong> en tu proyecto haga lo siguiente:</p>
<ol>
<li><strong>Defina dos rutas</strong>: una para una carpeta llamada <code>datos_ini</code> y otra para una carpeta llamada <code>datos_fin</code> (ambas dentro de la carpeta <code>proyecto/datos</code> de tu proyecto).</li>
<li><strong>Comprueba los directorios</strong>: Si las carpetas no existen las deberá crear utilizando <code>Files.createDirectories</code>.</li>
<li><strong>Añade ficheros</strong>: Añade (manualmente y vacío) el fichero <code>mis_datos.json</code> dentro de la carpeta <code>datos_ini</code>.</li>
<li><strong>Comprueba ficheros</strong>: Después de la comprobación de la existencia del fichero de datos dentro de la carpeta <code>datos_ini</code> (<code>mis_datos.json</code>) imprimirá un mensaje por consola mostrando la estrctura de directorios y ficheros.</li>
</ol>
<p><strong>La salida de tu programa</strong> debe ser parecida a esta, la primera vez que se ejecuta:
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>CREACIÓN DE RUTAS PROYECTO
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>    Creando rutas...
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>    Creación de ruta para DATOS_INI
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>    Creación de ruta para DATOS_FIN
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>MOSTRANDO ESTRUCTURA DE DIRECTORIOS Y FICHEROS
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>    [DIR] datos
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>        [DIR] datos_fin
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>        [DIR] datos_ini
</code></pre></div></p>
<p>Y la segunda vez que se ejecuta, tras añadir el fichero <code>mis_datos.json</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>CREACIÓN DE RUTAS PROYECTO
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>    Creando rutas...
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>MOSTRANDO ESTRUCTURA DE DIRECTORIOS Y FICHEROS
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    [DIR] datos
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>        [DIR] datos_fin
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>        [DIR] datos_ini
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>            [FILE] mis_datos.json
</code></pre></div></p>
<p><strong>La estructura en tu proyecto</strong> debe ser parecida a esta:</p>
<p><img alt="Proyecto 01" src="../../../assets/images/ud02/proy01.png" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Pie" >
        
          
          <a href="../introduccion/" class="md-footer__link md-footer__link--prev" aria-label="Anterior: Introducción">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Anterior
              </span>
              <div class="md-ellipsis">
                Introducción
              </div>
            </div>
          </a>
        
        
          
          <a href="../ficheros_texto/" class="md-footer__link md-footer__link--next" aria-label="Siguiente: Ficheros de texto">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Siguiente
              </span>
              <div class="md-ellipsis">
                Ficheros de texto
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.top", "optimize", "content.code.copy", "navigation.footer", "navigation.tabs"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>